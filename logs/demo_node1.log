    warning: module attribute @cpu_sample_interval_ms was set but never used
    â”‚
 20 â”‚   @cpu_sample_interval_ms 1_000  # CPU sampling interval
    â”‚   ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
    â”‚
    â””â”€ lib/corro_port/system_metrics.ex:20: CorroPort.SystemMetrics (module)

     warning: Logger.warn/1 is deprecated. Use Logger.warning/2 instead
     â”‚
 336 â”‚             Logger.warn("Failed to collect from node #{node_info.node_id}: #{inspect(error)}")
     â”‚                    ~
     â”‚
     â””â”€ lib/corro_port/analytics_aggregator.ex:336:20: CorroPort.AnalyticsAggregator.collect_from_all_nodes/3

     warning: variable "experiment_id" is unused (if the variable is not meant to be used, prefix it with an underscore)
     â”‚
 311 â”‚   defp collect_from_all_nodes(experiment_id, nodes, collector_fn) do
     â”‚                               ~~~~~~~~~~~~~
     â”‚
     â””â”€ lib/corro_port/analytics_aggregator.ex:311:31: CorroPort.AnalyticsAggregator.collect_from_all_nodes/3

     warning: Logger.warn/1 is deprecated. Use Logger.warning/2 instead
     â”‚
 435 â”‚         Logger.warn("HTTP #{status} from node #{node_info.node_id}")
     â”‚                ~
     â”‚
     â””â”€ lib/corro_port/analytics_aggregator.ex:435:16: CorroPort.AnalyticsAggregator.get_node_experiment_summary/2

     warning: Logger.warn/1 is deprecated. Use Logger.warning/2 instead
     â”‚
 439 â”‚         Logger.warn("HTTP error from node #{node_info.node_id}: #{inspect(reason)}")
     â”‚                ~
     â”‚
     â””â”€ lib/corro_port/analytics_aggregator.ex:439:16: CorroPort.AnalyticsAggregator.get_node_experiment_summary/2

     warning: variable "task" is unused (if the variable is not meant to be used, prefix it with an underscore)
     â”‚
 559 â”‚   defp get_task_data_type(task) do
     â”‚                           ~~~~
     â”‚
     â””â”€ lib/corro_port/analytics_aggregator.ex:559:27: CorroPort.AnalyticsAggregator.get_task_data_type/1

    warning: unused alias ClusterMembership
    â”‚
 26 â”‚   alias CorroPort.{ClusterMembership, LocalNode, Analytics}
    â”‚   ~
    â”‚
    â””â”€ lib/corro_port/analytics_aggregator.ex:26:3

    warning: unused alias Analytics
    â”‚
 18 â”‚   alias CorroPort.{AnalyticsAggregator, Analytics, LocalNode}
    â”‚   ~
    â”‚
    â””â”€ lib/corro_port_web/live/analytics_live.ex:18:3

[info] AckTracker starting...
[info] AckTracker ETS table created: ack_tracker
[info] AckSender starting...
[info] CLIMemberStore starting with 300000ms refresh interval
[info] NodeDiscovery starting...
[info] MessagePropagation starting...
[debug] AckTracker: Found 0 acknowledgments from []
[info] ClusterSystemInfo starting with 60000ms refresh interval
[info] AnalyticsStorage starting...
[info] SystemMetrics starting...
[info] AnalyticsAggregator starting...
[info] Running CorroPortWeb.Endpoint with Bandit 1.7.0 at 127.0.0.1:4001 (http)
[info] Access CorroPortWeb.Endpoint at http://localhost:4001
[info] Running CorroPortWeb.APIEndpoint with Bandit 1.7.0 at 127.0.0.1:5001 (http)
[info] Access CorroPortWeb.APIEndpoint at http://localhost:5001
[watch] build finished, watching for changes...
[info] CONNECTED TO Phoenix.LiveView.Socket in 14Âµs
  Transport: :longpoll
  Serializer: Phoenix.Socket.V2.JSONSerializer
  Parameters: %{"_csrf_token" => "NAEYJgJkDGQBHhokJAYqMGw3DUUoHDkXNxajhSx5PnrSHKnWZxbplZCS", "_live_referer" => "undefined", "_mount_attempts" => "0", "_mounts" => "0", "_track_static" => %{"0" => "http://localhost:4001/assets/css/app.css", "1" => "http://localhost:4001/assets/js/app.js"}, "vsn" => "2.0.0"}
/*! ðŸŒ¼ daisyUI 5.0.8 */
â‰ˆ tailwindcss v4.0.9

Done in 115ms
[info] NodeDiscovery: Performing initial DNS fetch
[debug] CLIMemberStore: Starting CLI fetch task
[debug] NodeDiscovery: Not in Fly.io environment, using development fallback
[debug] NodeDiscovery: Using development fallback
[info] CorroSubscriber: Starting subscription stream to http://127.0.0.1:8081/v1/subscriptions
[debug] ClusterSystemInfo: Starting fetch task
[debug] CorroCLI: command corrosion/corrosion-mac cluster members --config corrosion/config-node1.toml
[info] NodeDiscovery: Successfully fetched 2 expected nodes
[debug] CLIMemberStore: CLI fetch completed successfully
[info] CLIMemberStore: Parsed 1 cluster members
[debug] CLIMemberStore: Broadcasted update - 1 members, status: ok
[debug] CLIMemberStore: Broadcasted active update - 1 regions, status: ok
[info] GET /api/analytics/health
[info] CorroSubscriber: Connected with watch_id: 50bbbed1-e8ae-42d5-8278-f60c59004efe
[debug] Processing with CorroPortWeb.AnalyticsApiController.health/2
  Parameters: %{}
  Pipelines: [:api]
[debug] Found 3 total members, 1 active
[debug] ClusterSystemInfo: Fetch task completed
[debug] ClusterSystemInfo: Broadcasted update - cluster_info: true, database_info: false, messages: 3
[debug] QUERY OK db=0.6ms decode=0.5ms idle=1031.8ms
SELECT 1 []
[info] Sent 200 in 19ms
[info] CorroSubscriber: Got column names: ["pk", "node_id", "message", "sequence", "timestamp", "originating_endpoint", "region"]
[info] CorroSubscriber: End of initial query - subscription is now live
[info] POST /api/analytics/aggregation/start
[debug] Processing with CorroPortWeb.AnalyticsApiController.start_aggregation/2
  Parameters: %{"experiment_id" => "demo_20250622_120305"}
  Pipelines: [:api]
[info] AnalyticsAggregator: Starting aggregation for experiment demo_20250622_120305
[warning] Failed to discover cluster nodes: {:badkey, :node_id, %{"display_addr" => "127.0.0.1:8788", "display_cluster_id" => 0, "display_id" => "d469a597...", "display_last_sync" => "2025-06-22 16:03:03 UTC", "display_ring" => 0, "display_rtt_avg" => 0.0, "display_rtt_count" => 20, "display_status" => "active", "display_status_class" => "badge badge-sm badge-success", "id" => "d469a597-8c7d-4343-9914-ba13c7c70cb2", "rtts" => [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], "state" => %{"addr" => "127.0.0.1:8788", "cluster_id" => 0, "last_empty_ts" => nil, "last_sync_ts" => 7518804896334739888, "ring" => 0, "ts" => 7518801326872284447}}}
[warning] Failed to discover cluster nodes: {:badkey, :node_id, %{"display_addr" => "127.0.0.1:8788", "display_cluster_id" => 0, "display_id" => "d469a597...", "display_last_sync" => "2025-06-22 16:03:03 UTC", "display_ring" => 0, "display_rtt_avg" => 0.0, "display_rtt_count" => 20, "display_status" => "active", "display_status_class" => "badge badge-sm badge-success", "id" => "d469a597-8c7d-4343-9914-ba13c7c70cb2", "rtts" => [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], "state" => %{"addr" => "127.0.0.1:8788", "cluster_id" => 0, "last_empty_ts" => nil, "last_sync_ts" => 7518804896334739888, "ring" => 0, "ts" => 7518801326872284447}}}
[debug] QUERY OK source="message_events" db=0.2ms idle=1144.3ms
SELECT m0."message_id", m0."event_type", m0."inserted_at", m0."originating_node", m0."target_node" FROM "message_events" AS m0 WHERE (m0."experiment_id" = ?) ORDER BY m0."message_id", m0."inserted_at" ["demo_20250622_120305"]
[debug] QUERY OK source="message_events" db=0.3ms idle=1144.3ms
SELECT count(m0."id") FROM "message_events" AS m0 WHERE (m0."experiment_id" = ?) ["demo_20250622_120305"]
[debug] QUERY OK source="system_metrics" db=0.4ms idle=1146.5ms
SELECT s0."id", s0."experiment_id", s0."node_id", s0."cpu_percent", s0."memory_mb", s0."erlang_processes", s0."corrosion_connections", s0."message_queue_length", s0."inserted_at" FROM "system_metrics" AS s0 WHERE (s0."experiment_id" = ?) ORDER BY s0."inserted_at" ["demo_20250622_120305"]
[debug] QUERY OK source="message_events" db=0.2ms idle=1148.2ms
SELECT count(m0."id") FROM "message_events" AS m0 WHERE ((m0."experiment_id" = ?) AND (m0."event_type" = 'sent')) ["demo_20250622_120305"]
[debug] QUERY OK source="message_events" db=0.0ms idle=116.0ms
SELECT count(m0."id") FROM "message_events" AS m0 WHERE ((m0."experiment_id" = ?) AND (m0."event_type" = 'acked')) ["demo_20250622_120305"]
[debug] QUERY OK source="topology_snapshots" db=0.1ms idle=6.8ms
SELECT count(t0."id") FROM "topology_snapshots" AS t0 WHERE (t0."experiment_id" = ?) ["demo_20250622_120305"]
[debug] QUERY OK source="system_metrics" db=0.0ms idle=9.6ms
SELECT count(s0."id") FROM "system_metrics" AS s0 WHERE (s0."experiment_id" = ?) ["demo_20250622_120305"]
[debug] QUERY OK source="message_events" db=0.2ms idle=7.5ms
SELECT min(m0."inserted_at") FROM "message_events" AS m0 WHERE (m0."experiment_id" = ?) ["demo_20250622_120305"]
[debug] QUERY OK source="message_events" db=0.0ms idle=7.6ms
SELECT max(m0."inserted_at") FROM "message_events" AS m0 WHERE (m0."experiment_id" = ?) ["demo_20250622_120305"]
[debug] AnalyticsAggregator: Collected data from 1 nodes
[info] Sent 200 in 24ms
[debug] MOUNT CorroPortWeb.MessagesLive
  Parameters: %{}
  Session: %{"_csrf_token" => "zyyLj7tQQphwlMDg6Oo5DFzD"}
[debug] MessagesLive: Fetched 29 total messages
[debug] AckTracker: Found 0 acknowledgments from []
[debug] Replied in 12ms
[info] GET /api/analytics/aggregation/status
[debug] Processing with CorroPortWeb.AnalyticsApiController.aggregation_status/2
  Parameters: %{}
  Pipelines: [:api]
[info] Sent 200 in 146Âµs
[info] POST /api/messages/send
[debug] Processing with CorroPortWeb.AnalyticsApiController.send_message/2
  Parameters: %{"content" => "Analytics demo message #1 - timestamp: 2025-06-22T16:03:12Z"}
  Pipelines: [:api]
[debug] Inserting: node_id=dev-node1, message=Analytics demo message #1 - timestamp: 2025-06-22T16:03:12Z (from dev-node1 at 2025-06-22T16:03:12.735236Z), originating_endpoint=127.0.0.1:5001, region=dev
[debug] Executing transactions on port 8081: ["INSERT INTO node_messages (pk, node_id, message, sequence, timestamp, originating_endpoint, region)\nVALUES ('dev-node1_1750608192735', 'dev-node1', 'Analytics demo message #1 - timestamp: 2025-06-22T16:03:12Z (from dev-node1 at 2025-06-22T16:03:12.735236Z)', 1750608192735, '2025-06-22T16:03:12.735244Z', '127.0.0.1:5001', 'dev')\n"]
[info] MessagePropagation: Successfully sent message: %{message: "Analytics demo message #1 - timestamp: 2025-06-22T16:03:12Z (from dev-node1 at 2025-06-22T16:03:12.735236Z)", timestamp: "2025-06-22T16:03:12.735244Z", node_id: "dev-node1", sequence: 1750608192735, region: "dev", originating_endpoint: "127.0.0.1:5001"}
[info] AckTracker: Tracking new message dev-node1_1750608192735
[debug] AckTracker: Found 0 acknowledgments from []
[debug] MessagePropagation: Received ack update from AckTracker
[debug] MessagesLive: Received acknowledgment update: 0/2
[info] Sent 200 in 3ms
[debug] Processing with CorroPortWeb.AcknowledgmentController.acknowledge/2
  Parameters: %{"ack_node_id" => "dev-node2", "message_pk" => "dev-node1_1750608192735", "message_timestamp" => "2025-06-22T16:03:12.735244Z"}
  Pipelines: [:api]
[info] AcknowledgmentController: Received acknowledgment from dev-node2 for message dev-node1_1750608192735
[info] AckTracker: Adding acknowledgment from dev-node2
[debug] AckTracker: Found 1 acknowledgments from ["dev-node2"]
[debug] MessagePropagation: Received ack update from AckTracker
[debug] MessagesLive: Received acknowledgment update: 1/2
[info] AcknowledgmentController: Successfully recorded acknowledgment from dev-node2
[warning] Failed to discover cluster nodes: {:badkey, :node_id, %{"display_addr" => "127.0.0.1:8788", "display_cluster_id" => 0, "display_id" => "d469a597...", "display_last_sync" => "2025-06-22 16:03:03 UTC", "display_ring" => 0, "display_rtt_avg" => 0.0, "display_rtt_count" => 20, "display_status" => "active", "display_status_class" => "badge badge-sm badge-success", "id" => "d469a597-8c7d-4343-9914-ba13c7c70cb2", "rtts" => [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], "state" => %{"addr" => "127.0.0.1:8788", "cluster_id" => 0, "last_empty_ts" => nil, "last_sync_ts" => 7518804896334739888, "ring" => 0, "ts" => 7518801326872284447}}}
[debug] QUERY OK source="system_metrics" db=0.4ms idle=994.6ms
SELECT s0."id", s0."experiment_id", s0."node_id", s0."cpu_percent", s0."memory_mb", s0."erlang_processes", s0."corrosion_connections", s0."message_queue_length", s0."inserted_at" FROM "system_metrics" AS s0 WHERE (s0."experiment_id" = ?) ORDER BY s0."inserted_at" ["demo_20250622_120305"]
[debug] QUERY OK source="message_events" db=0.3ms queue=0.1ms idle=991.7ms
SELECT m0."message_id", m0."event_type", m0."inserted_at", m0."originating_node", m0."target_node" FROM "message_events" AS m0 WHERE (m0."experiment_id" = ?) ORDER BY m0."message_id", m0."inserted_at" ["demo_20250622_120305"]
[debug] QUERY OK source="message_events" db=0.4ms idle=997.6ms
SELECT count(m0."id") FROM "message_events" AS m0 WHERE (m0."experiment_id" = ?) ["demo_20250622_120305"]
[debug] QUERY OK source="message_events" db=0.3ms idle=994.6ms
SELECT count(m0."id") FROM "message_events" AS m0 WHERE ((m0."experiment_id" = ?) AND (m0."event_type" = 'sent')) ["demo_20250622_120305"]
[debug] QUERY OK source="message_events" db=0.3ms idle=993.8ms
SELECT count(m0."id") FROM "message_events" AS m0 WHERE ((m0."experiment_id" = ?) AND (m0."event_type" = 'acked')) ["demo_20250622_120305"]
[debug] QUERY OK source="topology_snapshots" db=0.6ms idle=3.8ms
SELECT count(t0."id") FROM "topology_snapshots" AS t0 WHERE (t0."experiment_id" = ?) ["demo_20250622_120305"]
[debug] QUERY OK source="system_metrics" db=0.2ms idle=4.7ms
SELECT count(s0."id") FROM "system_metrics" AS s0 WHERE (s0."experiment_id" = ?) ["demo_20250622_120305"]
[debug] QUERY OK source="message_events" db=0.3ms idle=5.1ms
SELECT min(m0."inserted_at") FROM "message_events" AS m0 WHERE (m0."experiment_id" = ?) ["demo_20250622_120305"]
[debug] QUERY OK source="message_events" db=0.1ms idle=2.3ms
SELECT max(m0."inserted_at") FROM "message_events" AS m0 WHERE (m0."experiment_id" = ?) ["demo_20250622_120305"]
[debug] AnalyticsAggregator: Collected data from 1 nodes
[info] POST /api/messages/send
[debug] Processing with CorroPortWeb.AnalyticsApiController.send_message/2
  Parameters: %{"content" => "Analytics demo message #2 - timestamp: 2025-06-22T16:03:14Z"}
  Pipelines: [:api]
[debug] Inserting: node_id=dev-node1, message=Analytics demo message #2 - timestamp: 2025-06-22T16:03:14Z (from dev-node1 at 2025-06-22T16:03:14.823489Z), originating_endpoint=127.0.0.1:5001, region=dev
[debug] Executing transactions on port 8081: ["INSERT INTO node_messages (pk, node_id, message, sequence, timestamp, originating_endpoint, region)\nVALUES ('dev-node1_1750608194823', 'dev-node1', 'Analytics demo message #2 - timestamp: 2025-06-22T16:03:14Z (from dev-node1 at 2025-06-22T16:03:14.823489Z)', 1750608194823, '2025-06-22T16:03:14.823501Z', '127.0.0.1:5001', 'dev')\n"]
[info] MessagePropagation: Successfully sent message: %{message: "Analytics demo message #2 - timestamp: 2025-06-22T16:03:14Z (from dev-node1 at 2025-06-22T16:03:14.823489Z)", timestamp: "2025-06-22T16:03:14.823501Z", node_id: "dev-node1", sequence: 1750608194823, region: "dev", originating_endpoint: "127.0.0.1:5001"}
[info] AckTracker: Tracking new message dev-node1_1750608194823
[debug] AckTracker: Found 0 acknowledgments from []
[debug] MessagePropagation: Received ack update from AckTracker
[debug] MessagesLive: Received acknowledgment update: 0/2
[info] Sent 200 in 3ms
[debug] Processing with CorroPortWeb.AcknowledgmentController.acknowledge/2
  Parameters: %{"ack_node_id" => "dev-node2", "message_pk" => "dev-node1_1750608194823", "message_timestamp" => "2025-06-22T16:03:14.823501Z"}
  Pipelines: [:api]
[info] AcknowledgmentController: Received acknowledgment from dev-node2 for message dev-node1_1750608194823
[info] AckTracker: Adding acknowledgment from dev-node2
[debug] AckTracker: Found 1 acknowledgments from ["dev-node2"]
[debug] MessagePropagation: Received ack update from AckTracker
[debug] MessagesLive: Received acknowledgment update: 1/2
[info] AcknowledgmentController: Successfully recorded acknowledgment from dev-node2
[info] POST /api/messages/send
[debug] Processing with CorroPortWeb.AnalyticsApiController.send_message/2
  Parameters: %{"content" => "Analytics demo message #3 - timestamp: 2025-06-22T16:03:16Z"}
  Pipelines: [:api]
[debug] Inserting: node_id=dev-node1, message=Analytics demo message #3 - timestamp: 2025-06-22T16:03:16Z (from dev-node1 at 2025-06-22T16:03:16.907556Z), originating_endpoint=127.0.0.1:5001, region=dev
[debug] Executing transactions on port 8081: ["INSERT INTO node_messages (pk, node_id, message, sequence, timestamp, originating_endpoint, region)\nVALUES ('dev-node1_1750608196907', 'dev-node1', 'Analytics demo message #3 - timestamp: 2025-06-22T16:03:16Z (from dev-node1 at 2025-06-22T16:03:16.907556Z)', 1750608196907, '2025-06-22T16:03:16.907566Z', '127.0.0.1:5001', 'dev')\n"]
[info] MessagePropagation: Successfully sent message: %{message: "Analytics demo message #3 - timestamp: 2025-06-22T16:03:16Z (from dev-node1 at 2025-06-22T16:03:16.907556Z)", timestamp: "2025-06-22T16:03:16.907566Z", node_id: "dev-node1", sequence: 1750608196907, region: "dev", originating_endpoint: "127.0.0.1:5001"}
[info] AckTracker: Tracking new message dev-node1_1750608196907
[debug] AckTracker: Found 0 acknowledgments from []
[debug] MessagesLive: Received acknowledgment update: 0/2
[debug] MessagePropagation: Received ack update from AckTracker
[info] Sent 200 in 3ms
[debug] Processing with CorroPortWeb.AcknowledgmentController.acknowledge/2
  Parameters: %{"ack_node_id" => "dev-node2", "message_pk" => "dev-node1_1750608196907", "message_timestamp" => "2025-06-22T16:03:16.907566Z"}
  Pipelines: [:api]
[info] AcknowledgmentController: Received acknowledgment from dev-node2 for message dev-node1_1750608196907
[info] AckTracker: Adding acknowledgment from dev-node2
[debug] AckTracker: Found 1 acknowledgments from ["dev-node2"]
[debug] MessagePropagation: Received ack update from AckTracker
[info] AcknowledgmentController: Successfully recorded acknowledgment from dev-node2
[debug] MessagesLive: Received acknowledgment update: 1/2
[info] CONNECTED TO Phoenix.LiveView.Socket in 24Âµs
  Transport: :longpoll
  Serializer: Phoenix.Socket.V2.JSONSerializer
  Parameters: %{"_csrf_token" => "AxYwCR5gPzYIBiQbICUvA185GA0rCy5wyoIEtWKgYvLlLhkdivw8oMT4", "_live_referer" => "undefined", "_mount_attempts" => "0", "_mounts" => "0", "_track_static" => %{"0" => "http://localhost:4001/assets/css/app.css", "1" => "http://localhost:4001/assets/js/app.js"}, "vsn" => "2.0.0"}
[debug] MOUNT CorroPortWeb.AnalyticsLive
  Parameters: %{"experiment_id" => "try3"}
  Session: %{"_csrf_token" => "zyyLj7tQQphwlMDg6Oo5DFzD"}
[debug] Replied in 657Âµs
[debug] HANDLE PARAMS in CorroPortWeb.AnalyticsLive
  Parameters: %{"experiment_id" => "try3"}
[debug] QUERY OK source="message_events" db=0.0ms idle=1127.9ms
SELECT count(m0."id") FROM "message_events" AS m0 WHERE (m0."experiment_id" = ?) ["try3"]
[debug] QUERY OK source="message_events" db=0.1ms idle=1128.6ms
SELECT count(m0."id") FROM "message_events" AS m0 WHERE ((m0."experiment_id" = ?) AND (m0."event_type" = 'sent')) ["try3"]
[debug] QUERY OK source="message_events" db=0.0ms idle=1128.7ms
SELECT count(m0."id") FROM "message_events" AS m0 WHERE ((m0."experiment_id" = ?) AND (m0."event_type" = 'acked')) ["try3"]
[debug] QUERY OK source="topology_snapshots" db=0.0ms idle=1128.9ms
SELECT count(t0."id") FROM "topology_snapshots" AS t0 WHERE (t0."experiment_id" = ?) ["try3"]
[debug] QUERY OK source="system_metrics" db=0.2ms idle=1128.9ms
SELECT count(s0."id") FROM "system_metrics" AS s0 WHERE (s0."experiment_id" = ?) ["try3"]
[debug] QUERY OK source="message_events" db=0.0ms idle=1.2ms
SELECT min(m0."inserted_at") FROM "message_events" AS m0 WHERE (m0."experiment_id" = ?) ["try3"]
[debug] QUERY OK source="message_events" db=0.0ms idle=0.6ms
SELECT max(m0."inserted_at") FROM "message_events" AS m0 WHERE (m0."experiment_id" = ?) ["try3"]
[debug] QUERY OK source="message_events" db=0.0ms idle=0.8ms
SELECT m0."message_id", m0."event_type", m0."inserted_at", m0."originating_node", m0."target_node" FROM "message_events" AS m0 WHERE (m0."experiment_id" = ?) ORDER BY m0."message_id", m0."inserted_at" ["try3"]
[debug] QUERY OK source="system_metrics" db=0.0ms idle=0.8ms
SELECT s0."id", s0."experiment_id", s0."node_id", s0."cpu_percent", s0."memory_mb", s0."erlang_processes", s0."corrosion_connections", s0."message_queue_length", s0."inserted_at" FROM "system_metrics" AS s0 WHERE (s0."experiment_id" = ?) ORDER BY s0."inserted_at" ["try3"]
[debug] Replied in 3ms
[warning] Failed to discover cluster nodes: {:badkey, :node_id, %{"display_addr" => "127.0.0.1:8788", "display_cluster_id" => 0, "display_id" => "d469a597...", "display_last_sync" => "2025-06-22 16:03:03 UTC", "display_ring" => 0, "display_rtt_avg" => 0.0, "display_rtt_count" => 20, "display_status" => "active", "display_status_class" => "badge badge-sm badge-success", "id" => "d469a597-8c7d-4343-9914-ba13c7c70cb2", "rtts" => [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], "state" => %{"addr" => "127.0.0.1:8788", "cluster_id" => 0, "last_empty_ts" => nil, "last_sync_ts" => 7518804896334739888, "ring" => 0, "ts" => 7518801326872284447}}}
[debug] QUERY OK source="message_events" db=0.2ms idle=1172.5ms
SELECT count(m0."id") FROM "message_events" AS m0 WHERE (m0."experiment_id" = ?) ["demo_20250622_120305"]
[debug] QUERY OK source="system_metrics" db=0.3ms idle=1172.5ms
SELECT s0."id", s0."experiment_id", s0."node_id", s0."cpu_percent", s0."memory_mb", s0."erlang_processes", s0."corrosion_connections", s0."message_queue_length", s0."inserted_at" FROM "system_metrics" AS s0 WHERE (s0."experiment_id" = ?) ORDER BY s0."inserted_at" ["demo_20250622_120305"]
[debug] QUERY OK source="message_events" db=0.2ms idle=1172.5ms
SELECT m0."message_id", m0."event_type", m0."inserted_at", m0."originating_node", m0."target_node" FROM "message_events" AS m0 WHERE (m0."experiment_id" = ?) ORDER BY m0."message_id", m0."inserted_at" ["demo_20250622_120305"]
[debug] QUERY OK source="message_events" db=0.2ms idle=1172.9ms
SELECT count(m0."id") FROM "message_events" AS m0 WHERE ((m0."experiment_id" = ?) AND (m0."event_type" = 'sent')) ["demo_20250622_120305"]
[debug] QUERY OK source="message_events" db=0.1ms idle=1173.3ms
SELECT count(m0."id") FROM "message_events" AS m0 WHERE ((m0."experiment_id" = ?) AND (m0."event_type" = 'acked')) ["demo_20250622_120305"]
[debug] QUERY OK source="topology_snapshots" db=0.1ms idle=0.8ms
SELECT count(t0."id") FROM "topology_snapshots" AS t0 WHERE (t0."experiment_id" = ?) ["demo_20250622_120305"]
[debug] QUERY OK source="system_metrics" db=0.1ms idle=1.1ms
SELECT count(s0."id") FROM "system_metrics" AS s0 WHERE (s0."experiment_id" = ?) ["demo_20250622_120305"]
[debug] QUERY OK source="message_events" db=0.0ms idle=1.3ms
SELECT min(m0."inserted_at") FROM "message_events" AS m0 WHERE (m0."experiment_id" = ?) ["demo_20250622_120305"]
[debug] QUERY OK source="message_events" db=0.1ms idle=1.2ms
SELECT max(m0."inserted_at") FROM "message_events" AS m0 WHERE (m0."experiment_id" = ?) ["demo_20250622_120305"]
[debug] AnalyticsAggregator: Collected data from 1 nodes
[info] GET /api/analytics/experiments/demo_20250622_120305/summary
[debug] Processing with CorroPortWeb.AnalyticsApiController.experiment_summary/2
  Parameters: %{"experiment_id" => "demo_20250622_120305"}
  Pipelines: [:api]
[debug] QUERY OK source="message_events" db=0.0ms idle=1538.9ms
SELECT count(m0."id") FROM "message_events" AS m0 WHERE (m0."experiment_id" = ?) ["demo_20250622_120305"]
[debug] QUERY OK source="message_events" db=0.0ms idle=1539.0ms
SELECT count(m0."id") FROM "message_events" AS m0 WHERE ((m0."experiment_id" = ?) AND (m0."event_type" = 'sent')) ["demo_20250622_120305"]
[debug] QUERY OK source="message_events" db=0.0ms idle=1539.1ms
SELECT count(m0."id") FROM "message_events" AS m0 WHERE ((m0."experiment_id" = ?) AND (m0."event_type" = 'acked')) ["demo_20250622_120305"]
[debug] QUERY OK source="topology_snapshots" db=0.0ms idle=1539.3ms
SELECT count(t0."id") FROM "topology_snapshots" AS t0 WHERE (t0."experiment_id" = ?) ["demo_20250622_120305"]
[debug] QUERY OK source="system_metrics" db=0.0ms idle=1539.4ms
SELECT count(s0."id") FROM "system_metrics" AS s0 WHERE (s0."experiment_id" = ?) ["demo_20250622_120305"]
[debug] QUERY OK source="message_events" db=0.0ms idle=0.5ms
SELECT min(m0."inserted_at") FROM "message_events" AS m0 WHERE (m0."experiment_id" = ?) ["demo_20250622_120305"]
[debug] QUERY OK source="message_events" db=0.0ms idle=0.4ms
SELECT max(m0."inserted_at") FROM "message_events" AS m0 WHERE (m0."experiment_id" = ?) ["demo_20250622_120305"]
[info] Sent 200 in 3ms
[info] GET /api/analytics/experiments/demo_20250622_120305/timing
[debug] Processing with CorroPortWeb.AnalyticsApiController.timing_stats/2
  Parameters: %{"experiment_id" => "demo_20250622_120305"}
  Pipelines: [:api]
[debug] QUERY OK source="message_events" db=0.1ms idle=37.2ms
SELECT m0."message_id", m0."event_type", m0."inserted_at", m0."originating_node", m0."target_node" FROM "message_events" AS m0 WHERE (m0."experiment_id" = ?) ORDER BY m0."message_id", m0."inserted_at" ["demo_20250622_120305"]
[info] Sent 200 in 2ms
[info] GET /api/analytics/health
[debug] Processing with CorroPortWeb.AnalyticsApiController.health/2
  Parameters: %{}
  Pipelines: [:api]
[debug] QUERY OK db=0.0ms idle=81.4ms
SELECT 1 []
[info] Sent 200 in 2ms
[warning] Failed to discover cluster nodes: {:badkey, :node_id, %{"display_addr" => "127.0.0.1:8788", "display_cluster_id" => 0, "display_id" => "d469a597...", "display_last_sync" => "2025-06-22 16:03:03 UTC", "display_ring" => 0, "display_rtt_avg" => 0.0, "display_rtt_count" => 20, "display_status" => "active", "display_status_class" => "badge badge-sm badge-success", "id" => "d469a597-8c7d-4343-9914-ba13c7c70cb2", "rtts" => [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], "state" => %{"addr" => "127.0.0.1:8788", "cluster_id" => 0, "last_empty_ts" => nil, "last_sync_ts" => 7518804896334739888, "ring" => 0, "ts" => 7518801326872284447}}}
[debug] QUERY OK source="system_metrics" db=0.3ms idle=1186.7ms
SELECT s0."id", s0."experiment_id", s0."node_id", s0."cpu_percent", s0."memory_mb", s0."erlang_processes", s0."corrosion_connections", s0."message_queue_length", s0."inserted_at" FROM "system_metrics" AS s0 WHERE (s0."experiment_id" = ?) ORDER BY s0."inserted_at" ["demo_20250622_120305"]
[debug] QUERY OK source="message_events" db=0.1ms idle=1186.7ms
SELECT m0."message_id", m0."event_type", m0."inserted_at", m0."originating_node", m0."target_node" FROM "message_events" AS m0 WHERE (m0."experiment_id" = ?) ORDER BY m0."message_id", m0."inserted_at" ["demo_20250622_120305"]
[debug] QUERY OK source="message_events" db=0.1ms idle=1186.7ms
SELECT count(m0."id") FROM "message_events" AS m0 WHERE (m0."experiment_id" = ?) ["demo_20250622_120305"]
[debug] QUERY OK source="message_events" db=0.1ms idle=1190.0ms
SELECT count(m0."id") FROM "message_events" AS m0 WHERE ((m0."experiment_id" = ?) AND (m0."event_type" = 'sent')) ["demo_20250622_120305"]
[debug] QUERY OK source="message_events" db=0.0ms idle=1190.1ms
SELECT count(m0."id") FROM "message_events" AS m0 WHERE ((m0."experiment_id" = ?) AND (m0."event_type" = 'acked')) ["demo_20250622_120305"]
[debug] QUERY OK source="topology_snapshots" db=0.1ms idle=3.4ms
SELECT count(t0."id") FROM "topology_snapshots" AS t0 WHERE (t0."experiment_id" = ?) ["demo_20250622_120305"]
[debug] QUERY OK source="system_metrics" db=0.0ms idle=3.6ms
SELECT count(s0."id") FROM "system_metrics" AS s0 WHERE (s0."experiment_id" = ?) ["demo_20250622_120305"]
[debug] QUERY OK source="message_events" db=0.1ms idle=5.0ms
SELECT min(m0."inserted_at") FROM "message_events" AS m0 WHERE (m0."experiment_id" = ?) ["demo_20250622_120305"]
[debug] QUERY OK source="message_events" db=0.1ms idle=2.0ms
SELECT max(m0."inserted_at") FROM "message_events" AS m0 WHERE (m0."experiment_id" = ?) ["demo_20250622_120305"]
[debug] AnalyticsAggregator: Collected data from 1 nodes
