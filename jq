{"id":"2025-10-corro-port-1","title":"Optimise node_messages subscription query","description":"CorroSubscriber currently starts its subscription with  (lib/corro_port/corro_subscriber.ex:88). The table schema in corrosion/schemas/node_messages.sql only defines a primary key on , so every reconnect performs a full table scan and sort on a TEXT timestamp. As node_messages grows this will get slower and increase memory use, and TEXT ordering relies on perfectly formatted values. We should add proper indexing / type handling and avoid pulling the full history when the subscriber only needs recent entries.","acceptance_criteria":"CorroSubscriber continues to deliver new message events correctly after the change","notes":"Superseded by 2025-10-corro-port-2 with corrected description/criteria.","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-10-14T11:00:34.028666-04:00","updated_at":"2025-10-14T11:01:14.581765-04:00"}
{"id":"2025-10-corro-port-10","title":"Cleanup: Remove old SVG chart modules","description":"Delete charts/{time_series,histogram,receipt_staircase,tick_helpers}.ex (4 files)","status":"closed","priority":2,"issue_type":"task","created_at":"2025-10-14T12:54:20.269104-04:00","updated_at":"2025-10-14T13:16:16.239456-04:00","closed_at":"2025-10-14T13:16:16.239456-04:00","dependencies":[{"issue_id":"2025-10-corro-port-10","depends_on_id":"2025-10-corro-port-3","type":"blocks","created_at":"2025-10-14T12:54:20.269657-04:00","created_by":"chris"}]}
{"id":"2025-10-corro-port-11","title":"Fix VegaLite colour/color spelling mismatch","description":"VegaLite uses American English 'color' not British English 'colour' for encoding channels. Fixed all instances in time_series_vl.ex, histogram_vl.ex, and vega_lite_helper.ex","status":"closed","priority":0,"issue_type":"bug","created_at":"2025-10-14T13:26:49.743034-04:00","updated_at":"2025-10-14T13:26:55.447151-04:00","closed_at":"2025-10-14T13:26:55.447151-04:00"}
{"id":"2025-10-corro-port-2","title":"Fix node_messages subscription query performance","description":"CorroSubscriber currently starts its subscription with `SELECT * FROM node_messages ORDER BY timestamp DESC` (lib/corro_port/corro_subscriber.ex:88). The table schema in corrosion/schemas/node_messages.sql only defines a primary key on `pk`, and `timestamp` is stored as TEXT. Each reconnect therefore scans and sorts the whole table, and ordering depends on consistent ISO formatting. We should add proper indexing and/or limit the query so the subscriber does not need to sort the full history on every reconnect.","acceptance_criteria":"Subscription no longer relies on an unindexed ORDER BY over the TEXT timestamp and avoids a full table scan for realistic row counts (documented via EXPLAIN or benchmark).\nCorroSubscriber continues to deliver new message events correctly with ordering guarantees for the UI.","status":"open","priority":1,"issue_type":"bug","created_at":"2025-10-14T11:01:10.347764-04:00","updated_at":"2025-10-14T11:01:10.347764-04:00"}
{"id":"2025-10-corro-port-3","title":"VegaLite Migration","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-10-14T12:53:47.140501-04:00","updated_at":"2025-10-14T13:16:16.319121-04:00","closed_at":"2025-10-14T13:16:16.319121-04:00"}
{"id":"2025-10-corro-port-4","title":"Setup: Add VegaLite dependencies","description":"Add vega_lite, kino_vega_lite to mix.exs and install vega-lite/vega-embed JS packages","status":"closed","priority":2,"issue_type":"task","created_at":"2025-10-14T12:54:19.650934-04:00","updated_at":"2025-10-14T13:10:10.323209-04:00","closed_at":"2025-10-14T13:10:10.323209-04:00","dependencies":[{"issue_id":"2025-10-corro-port-4","depends_on_id":"2025-10-corro-port-3","type":"blocks","created_at":"2025-10-14T12:54:19.651907-04:00","created_by":"chris"}]}
{"id":"2025-10-corro-port-5","title":"Setup: Create VegaLiteChart LiveView hook","description":"Add VegaLiteChart hook in assets/js/app.js to render VL specs with vega-embed","status":"closed","priority":2,"issue_type":"task","created_at":"2025-10-14T12:54:19.750177-04:00","updated_at":"2025-10-14T13:10:45.754963-04:00","closed_at":"2025-10-14T13:10:45.754963-04:00","dependencies":[{"issue_id":"2025-10-corro-port-5","depends_on_id":"2025-10-corro-port-3","type":"blocks","created_at":"2025-10-14T12:54:19.750697-04:00","created_by":"chris"}]}
{"id":"2025-10-corro-port-6","title":"Setup: Create VegaLite helper module","description":"Build charts/vega_lite_helper.ex with shared config, colour palettes, and theme settings","status":"closed","priority":2,"issue_type":"task","created_at":"2025-10-14T12:54:19.850462-04:00","updated_at":"2025-10-14T13:11:39.980341-04:00","closed_at":"2025-10-14T13:11:39.980341-04:00","dependencies":[{"issue_id":"2025-10-corro-port-6","depends_on_id":"2025-10-corro-port-3","type":"blocks","created_at":"2025-10-14T12:54:19.85101-04:00","created_by":"chris"}]}
{"id":"2025-10-corro-port-7","title":"Chart: Migrate time series to VegaLite","description":"Replace charts/time_series.ex (~350 LOC) with VL line+point chart (~50 LOC)","status":"closed","priority":2,"issue_type":"task","created_at":"2025-10-14T12:54:19.950213-04:00","updated_at":"2025-10-14T13:13:08.497146-04:00","closed_at":"2025-10-14T13:13:08.497146-04:00","dependencies":[{"issue_id":"2025-10-corro-port-7","depends_on_id":"2025-10-corro-port-3","type":"blocks","created_at":"2025-10-14T12:54:19.950705-04:00","created_by":"chris"}]}
{"id":"2025-10-corro-port-8","title":"Chart: Migrate histogram to VegaLite","description":"Replace charts/histogram.ex (~200 LOC) with VL bar chart + percentile rules (~40 LOC)","status":"closed","priority":2,"issue_type":"task","created_at":"2025-10-14T12:54:20.050167-04:00","updated_at":"2025-10-14T13:14:06.629603-04:00","closed_at":"2025-10-14T13:14:06.629603-04:00","dependencies":[{"issue_id":"2025-10-corro-port-8","depends_on_id":"2025-10-corro-port-3","type":"blocks","created_at":"2025-10-14T12:54:20.050715-04:00","created_by":"chris"}]}
{"id":"2025-10-corro-port-9","title":"Chart: Migrate receipt staircase to VegaLite","description":"Replace charts/receipt_staircase.ex (~280 LOC) with VL bar chart showing batching patterns (~40 LOC)","status":"closed","priority":2,"issue_type":"task","created_at":"2025-10-14T12:54:20.162018-04:00","updated_at":"2025-10-14T13:15:13.927571-04:00","closed_at":"2025-10-14T13:15:13.927571-04:00","dependencies":[{"issue_id":"2025-10-corro-port-9","depends_on_id":"2025-10-corro-port-3","type":"blocks","created_at":"2025-10-14T12:54:20.16255-04:00","created_by":"chris"}]}
